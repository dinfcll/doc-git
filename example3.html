<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Olivier Lafleur" />
  <title>Introduction à git</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="pandoc.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">Introduction à git</h1>
<h2 class="author">Olivier Lafleur</h2>
<h3 class="date">4 mai 2015</h3>
</div>
<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#pourquoi-utiliser-git">Pourquoi utiliser git?</a></li>
<li><a href="#mise-en-place-de-git">Mise en place de git</a><ul>
<li><a href="#comment-git-fonctionne">Comment git fonctionne</a></li>
<li><a href="#première-utilisation">Première utilisation</a></li>
</ul></li>
<li><a href="#créer-un-dépôt">Créer un dépôt</a></li>
<li><a href="#auteur">Auteur</a></li>
</ul>
</div>
<h1 id="introduction">Introduction</h1>
<p>Ce document se veut une introduction au système de gestion de versions décentralisé <a href="http://git-scm.com">git</a>. Nous utiliserons l’exemple de git, mais les principes présentés pourraient aussi bien être appliqués à d’autres systèmes du genre comme Mercurial ou BitKeeper.</p>
<h1 id="pourquoi-utiliser-git">Pourquoi utiliser git?</h1>
<p>Lorsque l’on développe du code, il n’est pas rare que l’on soit plusieurs à vouloir travailler sur un même bout de code. Cependant, cela peut devenir problématique lorsque l’on veut changer des bouts de code à des endroits différents.</p>
<p>En utilisant le courriel ou une clé USB on peut s’échanger des bouts de code, mais cela devient rapidement très complexe et il est facile de faire des erreurs lors de l’intégration du code d’un collègue dans le sien.</p>
<p>Une technique est de travailler chacun son tour: la personne A commence le code, envoie le résultat à une personne B, qui ajoute un autre bout de code et renvoie le tout à la personne A. Ce va-et-vient peut être laborieux et ralentir de beaucoup ce qu’il serait possible de réaliser en travaillant en parallèle.</p>
<p>Quels seraient donc les avantages d’utiliser la gestion de versions? Cela est mieux puisque :</p>
<ul>
<li><p>Rien qui est sauvegardé (on dit faire un <em>commit</em>) n’est perdu. Cela veut dire que l’on peut l’utiliser comme la fonctionnalité pour revenir en arrière (<em>undo</em>) d’un éditeur. Par ailleurs, puisque toutes les anciennes versions sont sauvegardées, il est toujours possible de revenir dans le temps et de se replacer dans un état passé.</p></li>
<li><p>Nous avons une liste des changements qui ont été faits, par qui et quand. On sait donc à qui poser nos questions plus tard.</p></li>
<li><p>C’est difficile (mais pas impossible) de réécrire par-dessus les changements de quelqu’un. Le système de gestion de versions avertit automatiquement l’usager lorqu’il y a un conflit entre deux changements effectués sur la même ligne par deux personnes différentes.</p></li>
</ul>
<p>La gestion de versions est essentielle pour tous les projets de développement logiciel significatifs, et la plupart des programmeurs l’utilisent pour leurs petits projets aussi. Ce n’est pas non plus que pour du logiciel: les livres, les notes de cours (comme celles-ci), les petits jeu de données et tout ce qui change à travers le temps et a besoin d’être partagé peut (et devrait) être stocké dans un système de gestion de versions.</p>
<h1 id="mise-en-place-de-git">Mise en place de git</h1>
<p>Nous commencerons par explorer comment la gestion de versions peut être utilisée pour garder une trace de ce qu’une personne a fait, et quand. Même si vous ne collaborez pas avec d’autres personnes, la gestion de versions est beaucoup mieux pour ça. On peut donc éviter de se retrouver avec des noms de fichiers laborieux incluant des VERSION_FINALE_2_olivier ou autres noms du genre, comme illustré dans <a href="http://www.phdcomics.com/comics/archive.php?comicid=1531">une bande dessinée</a> du <em>comic</em> en ligne <a href="http://phdcomics.com">Piled Higher and Deeper</a>.</p>
<p>Nous avons tous déjà été dans cette situation par le passé. Il est ridicule de se retrouver avec de multiples versions presque identiques d’un même document.</p>
<p>Les systèmes de gestion de version commencent avec une version de base du document et sauvegardent seulement les changements (les <em>diff</em>) que vous avez faits à chaque étape.</p>
<div class="figure">
<img src="seq.png" alt="Le document de base et ses changements" />
<p class="caption">Le document de base et ses changements</p>
</div>
<p>À partir du moment où on commence à voir les changements comme étant séparés du document lui-même, on peut penser à “appliquer” des changements différents sur le document de base et ainsi obtenir des versions différentes du document. Par exemple, deux utilisateurs peuvent faire des changements indépendants sur le même document.</p>
<h2 id="comment-git-fonctionne">Comment git fonctionne</h2>
<p>Un système de gestion de versions est un outil qui garde une trace de ces changements pour nous et nous aide à amalgamer tous les changements ensemble. Un système comme git est conçu pour garder de multiples changements synchronisés sur différents ordinateurs et serveurs. C’est pourquoi on dit qu’il s’agit d’un système <em>distribué</em> (par opposition à SVN ou TFS qui sont des systèmes dits centralisés).</p>
<p>Un dépôt (<em>repository</em> en anglais) est un ensemble de fichiers que nous voulons versionner.</p>
<p>Avec git, chaque utilisateur qui veut faire un changement à un dépôt a sa propre copie des fichiers dans ce dépôt, ainsi que sa copie des changements (les <em>commits</em>) qui ont été faits à ces fichiers. Git garde les <em>commits</em> dans un répertoire caché avec les copies des fichiers.</p>
<h2 id="première-utilisation">Première utilisation</h2>
<p>La première fois que l’on utilise git sur une nouvelle machine, nous avons besoin de configurer quelques paramètres. Voici comment on procède (dans le terminal):</p>
<pre><code>$ git config --global user.name &quot;Olivier Lafleur&quot;
$ git config --global user.email &quot;olivier.lafleur@gmail.com&quot;</code></pre>
<p>(Utilisez évidemment votre nom et votre adresse courriel à la place de mes informations.)</p>
<p>Les commandes git sont écrites sous la forme <code>git verbe</code>, où <code>verbe</code> est ce que nous voulons faire. Dans ce cas, nous donnons à git notre nom et notre adresse courriel, en lui disant que nous voulons utiliser ces paramètres de façon globale (pour tous les projets sur cet ordinateur).</p>
<p>Les commandes précédentes ont seulement besoin d’être exécutées une seule fois: le <em>flag</em> <code>--global</code> dit à git d’utiliser ces paramètres pour tous les projets.</p>
<h1 id="créer-un-dépôt">Créer un dépôt</h1>
<p>Une fois que git est configuré, nous pouvons commencer à l’utiliser. Créons un répertoire pour nos fichiers:</p>
<pre><code>$ mkdir planètes
$ cd planètes</code></pre>
<p>et disons à git de créer un dépôt - un endroit où git peut stocker les anciennes versions de nos fichiers:</p>
<pre><code>$ git init</code></pre>
<p>Si nous utilisons <code>ls</code> pour montrer le contenu du répertoire, on dirait que rien n’a changé. Par contre, si nous ajoutons le <em>flag</em> <code>-a</code> pour ton montrer, on voit que git a créé un répertoire caché appelé <code>.git</code>:</p>
<pre><code>$ ls -a
.   ..  .git</code></pre>
<h1 id="auteur">Auteur</h1>
<p>Olivier Lafleur (<script type="text/javascript">
<!--
h='&#x67;&#x6d;&#x61;&#x69;&#108;&#46;&#x63;&#x6f;&#x6d;';a='&#64;';n='&#x6f;&#108;&#x69;&#118;&#x69;&#x65;&#114;&#46;&#108;&#x61;&#102;&#108;&#x65;&#x75;&#114;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x6f;&#108;&#x69;&#118;&#x69;&#x65;&#114;&#46;&#108;&#x61;&#102;&#108;&#x65;&#x75;&#114;&#32;&#x61;&#116;&#32;&#x67;&#x6d;&#x61;&#x69;&#108;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#x6f;&#x6d;</noscript>)</p>
<p>Ce contenu est lui aussi mis à votre disposition selon les termes de la <a href="http://creativecommons.org/licenses/by/4.0/">Licence Creative Commons Attribution 4.0 International</a> CC-BY.</p>
<p>Par ailleurs, il est important de mentionner que le contenu de ce document est fortement inspiré du contenu des formations de l’organisme <em><a href="http://software-carpentry.org">Software Carpentry</a></em>, organisme à but non lucratif qui met disponible en ligne son contenu sous licence Creative Commons.</p>
<div id="footer">
  &copy; 2015 <a href="http://olivierlafleur.com">Olivier Lafleur</a>
</div>
</body>
</html>
